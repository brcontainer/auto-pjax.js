/* Pjax.js 0.6.2 | Copyright (c) 2020 Guilherme Nascimento (brcontainer@yahoo.com.br) | Released under the MIT license */

(function(a){function b(){return C?(clearTimeout(C),C=0,D.className="pjax-loader pjax-hide",void setTimeout(b,20)):void(!D&&(D=w.createElement("div"),D.innerHTML="<div class=\"pjax-progress\"></div>",w.body.appendChild(D)),D.className="pjax-loader pjax-start",C=setTimeout(function(){C=0,D.className+=" pjax-inload"},10))}function c(){C&&clearTimeout(C),D.className+=" pjax-end",C=setTimeout(function(){C=0,D.className+=" pjax-hide"},1e3)}function e(b,c,d){[].slice.call(b.querySelectorAll(c)).forEach(d),d=a}function f(a){var b=[];return e(a,"[name]",function(a){a.name&&K.test(a.tagName)&&b.push(encodeURIComponent(a.name)+"="+encodeURIComponent(a.value))}),b.join("&")}function g(a){if(F)return new DOMParser().parseFromString(a,"text/html");var b=H.createHTMLDocument("");return /^\s*<(\!doctype|html)[^>]*>/i.test(a)?(b.documentElement.innerHTML=a,(!b.body||!b.head)&&(b=H.createHTMLDocument(""),b.write(a))):b.body.innerHTML=a,b}function h(a){var b,c,d,e=[],f=a.children;for(b=f.length-1;0<=b;b--)"TITLE"!==f[b].tagName&&e.push(f[b].outerHTML);for(f=w.head.children,b=f.length-1;0<=b;b--)"TITLE"===f[b].tagName||m(f[b],"resource")||(c=e.indexOf(f[b].outerHTML),-1===c?f[b].parentNode.removeChild(f[b]):e.splice(c,1));for(d=w.createElement("div"),d.innerHTML=e.join(""),f=d.children,b=f.length-1;0<=b;b--)m(f[b],"resource")||w.head.appendChild(f[b]);d=e=null}function j(a,b,c,d){if(G[a])for(var e=G[a],f=0;f<e.length;f++)e[f](b,c,d)}function k(a,b,c){"function"!=typeof b||(!G[a]&&(G[a]=[]),c?G[a]=G[a].filter(function(a){return a!==b}):G[a].push(b))}function l(a,b,f,k){var l,m=g(b),n=m.title||"",o=f.containers,p=f.insertion,q=0<f.scrollLeft?+f.scrollLeft:E.scrollX||E.pageXOffset,r=0<f.scrollTop?+f.scrollTop:E.scrollY||E.pageYOffset;if(k){var s={pjaxUrl:a,pjaxData:b,pjaxConfig:f};1===k?d.pushState(s,n,a):2===k&&d.replaceState(s,n,a)}if(G.dom)return j("dom",a,m);f.updatehead&&m.head&&h(m.head),w.title=n;for(var c=o.length-1;0<=c;c--)l=m.body.querySelector(o[c]),l&&e(w,o[c],function(a){if("append"===p||"prepend"===p){for(var b=w.createDocumentFragment(),c=0,d=N.call(l.childNodes),e=d.length;c<e;++c)b.appendChild(d[c]);"append"===p?a.appendChild(b):a.insertBefore(b,a.firstChild),b=null}else a.innerHTML=l.innerHTML});E.scrollTo(q,r),m=o=null}function m(a,b){var c=a.getAttribute("data-pjax-"+b);if("true"===c||"false"===c)return"true"===c;if(!isNaN(c))return parseFloat(c);if(/^\[[\s\S]+\]$|^\{[^:]+[:][\s\S]+\}$/.test(c))try{c=JSON.parse(c)}catch(a){}return c}function n(a){var b,c,d=JSON.parse(JSON.stringify(B)),e=["containers","updatecurrent","updatehead","insertion","loader","scroll-left","scroll-top","done","fail"];if(!a)return d;for(var f=e.length-1;0<=f;f--)b=e[f],c=m(a,b),c&&(b=b.toLowerCase().replace(/-([a-z])/g,function(c,a){return a.toUpperCase()}),d[b]=c);return d}function o(a,b,d,e,f,g){b.loader&&c(),g&&l(a,g,b,d),j(g?"done":"fail",a),j("then",a),f&&new Function(f).call(e)}function p(){A&&A.abort()}function q(a){var b,c="_="+ +new Date;return i?(b=w.createElement("a"),b.href=a):b=new i(a),b.search+=(b.search?"&":"?")+c,a=b+"",b=null,a}function r(a,c,d,e,f){p();var g=n(e);if(j("initiate",a,g),g.loader&&b(),G.handler)return j("handler",{url:a,state:c,method:d,element:e},g,o);var h={"X-PJAX-Container":g.containers.join(","),"X-PJAX":"true"},i=B.proxy||a;for(var l in B.nocache&&(i=q(a)),A=new XMLHttpRequest,A.open(d,i,!0),h)A.setRequestHeader(l,h[l]);A.onreadystatechange=function(){if(4===this.readyState){var b=this.status;if(200<=b&&300>b){var d=A.getResponseHeader("X-PJAX-Container");d&&(g.containers=d.split(",")),o(A.getResponseHeader("X-PJAX-URL")||a,g,c,e,g.done,this.responseText)}else o(a,g,b,e,g.fail)}},A.send(f||"")}function s(a){if(0===a.button){var b,c,d=a.target;if(d.matches(B.linkSelector))b=d.href;else{for(;d=d.parentNode;)if("A"===d.tagName){c=d;break}if(!c||!c.matches(B.linkSelector))return;d=c,b=d.href}u("GET",b,null,d,a)}}function t(a){var b,c,d,e=a.target;if(e.matches(B.formSelector)&&(d=(e.method+"").toUpperCase(),"POST"!==d||E.FormData)){if(b=e.action,"POST"!==d||"multipart/form-data"!==e.enctype)c=f(e),"POST"!==d&&(b=b.replace(/\?.*/g,"")+"?",c&&(b+=c),c=null);else if(E.FormData)c=new FormData(e);else return;u(d,b,c,e,a)}}function u(a,b,c,d,f){if(0===b.indexOf(J+"/")||b===J)return f.preventDefault(),b===E.location+""&&"POST"!==a?void(B.updatecurrent&&r(b,2,a,d,c)):void r(b,1,a,d,c)}function v(a){a.state&&a.state.pjaxUrl&&(p(),l(a.state.pjaxUrl,a.state.pjaxData,a.state.pjaxConfig,!1),j("history",a.state.pjaxUrl,a.state))}function x(){if(!L){L=!1;var a=E.location+"",b=E.history.state;b&&b.pjaxUrl||d.replaceState({pjaxUrl:a,pjaxData:w.documentElement.outerHTML,pjaxConfig:B},w.title,a),E.addEventListener("unload",p),E.addEventListener("popstate",v),B.linkSelector&&w.addEventListener("click",s),B.formSelector&&w.addEventListener("submit",t)}}function y(){B&&L&&(w.removeEventListener("click",s),w.removeEventListener("submit",t),E.removeEventListener("unload",p),E.removeEventListener("popstate",v),L=!1,B=a)}function z(a){if(/^https?:$/.test(E.location.protocol)&&main.supported){for(var b in y(),B={linkSelector:"a:not([data-pjax-ignore]):not([href^='#']):not([href^='javascript:'])",formSelector:"form:not([data-pjax-ignore]):not([action^='javascript:'])",containers:["#pjax-container"],updatecurrent:!1,updatehead:!0,insertion:!0,scrollLeft:0,scrollTop:0,nocache:!1,loader:!0,proxy:""},B)a&&b in a&&(B[b]=a[b]);a=null,/^(interactive|complete)$/.test(w.readyState)?x():w.addEventListener("DOMContentLoaded",x)}}var A,B,C,D,E="undefined"==typeof window?{}:window,w=E.document||{},d=E.history,i=E.URL,F=!!E.DOMParser,G={},H=w.implementation,I=E.location,J=I?I.protocol.replace(/:/g,"")+"://"+E.location.host:"",K=/^(input|textarea|select|datalist|button|output)$/i,L=!1,M=E.Element&&E.Element.prototype,N=Array.prototype.slice;if(E.Pjax={supported:!!(M&&d.pushState&&(F||H&&H.createHTMLDocument)),remove:y,start:z,request:function(a,b){r(a,b.replace?2:1,b.method,null,b.data)},on:function(a,b){k(a,b)},off:function(a,b){k(a,b,!0)}},F)try{var O=g("<html><head><title>1</title></head><body>1</body></html>");F=!!(O.head&&O.title&&O.body)}catch(a){F=!1}M&&!M.matches&&(M.matches=M.matchesSelector||M.mozMatchesSelector||M.msMatchesSelector||M.oMatchesSelector||M.webkitMatchesSelector||function(a){for(var b=(this.document||this.ownerDocument).querySelectorAll(a),c=b.length;0<=--c&&b[c]!==this;);return-1<c})})();
